<div class="feed-container">
  <h2>Feed</h2>

  <div *ngIf="loading" class="state loading">Loading posts…</div>

  <div *ngIf="error && !loading" class="state error">{{ error }}</div>

  <ng-container *ngIf="!loading && !error">
    <ng-container *ngIf="posts$ | async as posts">
      <div *ngIf="posts.length === 0" class="state empty">No posts yet.</div>

      <div class="posts-list">
        <article *ngFor="let post of posts" class="post-card">
          <header>
            <h3 class="post-title">{{ post.title }}</h3>
            <div class="post-meta">By {{ post.authorName }} • {{ post.createdAt | date:'medium' }}</div>
          </header>
          <section class="post-body">
            <p class="post-content">{{ post.content }}</p>
          </section>
        </article>
      </div>
    </ng-container>
  </ng-container>
</div>
